%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Template for lab reports used at STIMA
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Sets the document class for the document
% Openany is added to remove the book style of starting every new chapter on an odd page (not needed for reports)
\documentclass[10pt,swedish, openany]{book}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Loading packages that alter the style
\usepackage[]{graphicx}
\usepackage[]{color}
\usepackage{alltt}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\setlength{\parskip}{\smallskipamount}
\setlength{\parindent}{0pt}

% Set page margins
\usepackage[top=100pt,bottom=100pt,left=68pt,right=66pt]{geometry}

% Package used for placeholder text
\usepackage{lipsum}

% Prevents LaTeX from filling out a page to the bottom
\raggedbottom

% Adding both languages, Swedish and English, so they can be used intermittently in for example abstracts.
\usepackage[swedish, english]{babel}

% All page numbers positioned at the bottom of the page
\usepackage{fancyhdr}
\fancyhf{} % clear all header and footers
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0pt} % remove the header rule
\pagestyle{fancy}

% Changes the style of chapter headings
\usepackage{titlesec}
\titleformat{\chapter}
   {\normalfont\LARGE\bfseries}{\thechapter.}{1em}{}
% Change distance between chapter header and text
\titlespacing{\chapter}{0pt}{50pt}{2\baselineskip}

% Adds table captions above the table per default
\usepackage{float}
\floatstyle{plaintop}
\restylefloat{table}

% Adds space between caption and table
\usepackage[tableposition=top]{caption}

% Adds hyperlinks to references and ToC
\usepackage{hyperref}
\hypersetup{hidelinks,linkcolor = black} % Changes the link color to black and hides the hideous red border that usually is created

% If multiple images are to be added, a folder (path) with all the images can be added here 
\graphicspath{ {images/} }

% Separates the first part of the report/thesis in Roman numerals
\frontmatter


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Starts the document
\usepackage{Sweave}
\begin{document}
\input{report-concordance}

%%% Selects the language to be used for the first couple of pages
\selectlanguage{swedish}

%%%%% Adds the title page
\begin{titlepage}
	\clearpage\thispagestyle{empty}
	\centering
	\vspace{2cm}

	% Titles
	{\large lab report in Machine Learning \par}
	\vspace{4cm}
	{\Huge \textbf{Laboration 1}} \\
	\vspace{1cm}
	{\large \textbf{TDDE01} \par}
	\vspace{4cm}
	{\normalsize David Grönberg \\ % \\ specifies a new line
	             Davgr686 \par}
	\vspace{2cm}

    \includegraphics[scale=0.75]{liu_logga.png}
    
    \vspace{2cm}
    
	% Information about the University
	{\normalsize Avdelningen för Statistik och maskininlärning \\ 
		Institutionen för datavetenskap \\
		Linköpings university \par}
		
	% Set the date
	{\normalsize XX-XX-20XX \par}
	\vspace{2cm}
	
	\pagebreak

\end{titlepage}

% Adds a table of contents
\tableofcontents{}

\clearpage

\listoffigures

\clearpage

\listoftables

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%% The rows above should not be changed except for the title page information
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% Text body starts here!
\mainmatter

\chapter{Introduction}
Introduce the laboration; the data set used, the overall goal of the exercises and add any preparatory work, for instance reading data sets and loading packages. Any output should be hidden unless specifically asked for.

% Start of R-code chunk
\begin{Schunk}
\begin{Sinput}
> 
> 
> 
> 
\end{Sinput}
\end{Schunk}

\chapter{Assignments}

% A * after the section/chapter command indicates an unnumbered header which will not be added to the table of contents
\section{Assignment 1}
% In order to add an unnumbered section/chapter the following code needs to be used
\addcontentsline{toc}{section}{Assignment 1}

The data file spambase.xlsx contains information about 2740 emails and their word frequency, consisting of 48 columns representing words and one column representing if the document was classified as spam (1) or not (0). The data is divided into a training set and a test set.  


\begin{Schunk}
\begin{Sinput}
> data <- read_excel("spambase.xlsx")
> # make spam categorical
> data$Spam <- as.factor(data$Spam)
> # Split into train & test set
> n=dim(data)[1] 
> set.seed(12345)  
> id=sample(1:n, floor(n*0.5))  
> train=data[id,]  
> test=data[-id,]  
> 
> 
\end{Sinput}
\end{Schunk}
Men det blir ganska fult så jag döljer det istället:
\begin{Schunk}
\begin{Soutput}
[1] 10
\end{Soutput}
\end{Schunk}

Jag skriver min uppsats om datasetet iris.\cite{anderson1935irises} Självklart använder jag referenser korrekt. Vill jag referera till en viss sida gör jag det i noten. \cite[s. 2-4]{anderson1935irises} Då kommer fortfarande bara en referens att läggas till i litteraturförteckningen.

Jag har samlat ihop datasetet iris som består av 150 observationer. De första observationerna kan ni se här: \label{min_data}

Att visa data direkt från R är ganska fult i dokument.

\begin{Schunk}
\begin{Soutput}
  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa
\end{Soutput}
\end{Schunk}



Om jag använder caption=”Rubrik” i funktionen xtable() så genereras en tabellrubrik som används för att skapa en tabellförteckning. Detta kallas floating i LaTeX och görs automatiskt av xtable().

\subsection*{Figurer}
Mitt data som ni kan se på sida \pageref{min_data}, har jag använt för att göra den snygga figur \ref{fig:En-figur} som finns på sida \pageref{fig:En-figur}. 

Diagram skapas inte automatiskt i floating enviroment, så det får man göra manuellt i LaTeX med: \begin{verbatim}
\begin{figure}
    \centering
    \includegraphics{} % R-code can be added here instead of the \includegraphics{}
    \caption{Caption}
    \label{fig:my_label}
\end{figure}
\end{verbatim}

% Begins a figure float 
\begin{figure}[H]
    \centering
    <<echo=FALSE, fig.height = 4, fig.width = 7>>=
    with(data=iris,plot(Sepal.Length,Sepal.Width,main="Min figur",col="Red", las = 1))
    @
    \caption{En figur}
    \label{fig:En-figur}
\end{figure}

\subsection*{Linjär regression}
Jag har gjort massa häftiga analyser som linjär regression med alla 150 observationer:



Och en ANOVA-analys. 



Oavsett dyker alla tabeller upp i tabellförteckningen utan problem.

\pagebreak


% Adding a bibliography if citations are used in the report
\bibliographystyle{plain}
\bibliography{BiBTeXexempel.bib}
% Adds reference to the Bibliography in the ToC
\addcontentsline{toc}{chapter}{\bibname}


\end{document}
